# Minecraft 1.21.1 Compatibility Guide

## Overview

Hunger Overhaul Reborn v0.2.1-beta provides **basic compatibility** with Minecraft 1.21.1 using the 1.20.1 builds. Full 1.21.1 native builds require extensive API migration work.

## Current Compatibility Status

### ‚úÖ **Working Features on 1.21.1**
- **Food Registry Modifications**: Core hunger/saturation changes work
- **Auto-Discovery System**: Automatically categorizes food from other mods
- **Basic Configuration**: Most config options function normally
- **Mod Loading**: The mod loads and initializes without crashes
- **Version Detection**: Properly detects and adapts to 1.21.1

### ‚ö†Ô∏è **Limited/DISABLED Features on 1.21.1**
- **Advanced Mixins**: Disabled to prevent crashes (BowlFoodItem, etc.)
- **Custom Effects**: WellFed, LowHealth effects are disabled
- **Complex Event Handlers**: Some advanced food mechanics disabled
- **HUD Warnings**: May not display all status effects

### ‚ùå **Non-Functional Features on 1.21.1**
- **Bowl Food Mechanics**: Custom bowl-return logic disabled
- **Advanced Harvesting**: Right-click harvesting disabled
- **Complex Food Effects**: Some timing-based effects disabled

## How to Use on 1.21.1

### Installation
1. Download the **1.20.1** JAR files:
   - `hunger_overhaul_reborn-fabric-0.2.1-beta+1.20.1.jar`
   - `hunger_overhaul_reborn-forge-0.2.1-beta+1.20.1.jar`

2. Install in your `.minecraft/mods/` folder (same as 1.20.1)

3. Launch Minecraft 1.21.1 with Fabric or Forge

4. The mod will detect the version and enable compatibility mode

### Expected Behavior
- **Log Message**: "Running on Minecraft 1.21.1" with compatibility notice
- **Core Features**: Food values and auto-discovery work normally
- **Config**: Most settings work, some advanced options ignored
- **Performance**: No crashes, basic functionality intact

## Technical Details

### Compatibility Mode Detection
```java
// The mod automatically detects 1.21.1 and enables compatibility mode
if (VersionDetector.is1_21_1()) {
    // Limited feature set
    HOReborn.LOGGER.info("1.21.1 compatibility mode enabled");
}
```

### Why This Approach
- **Minecraft API Changes**: 1.21.1 has significant API changes (classes, methods, mixins)
- **Safe Fallback**: Using 1.20.1 builds prevents crashes while providing core functionality
- **User Choice**: Players can choose between basic compatibility now or wait for full features

## Future Full 1.21.1 Support

### Required Work
1. **API Migration**:
   - Update all Minecraft class references
   - Fix mixin targets (BowlFoodItem ‚Üí new classes)
   - Update method signatures

2. **Code Restructure**:
   - Create 1.21.1-specific source overrides
   - Update build configurations
   - Test all functionality

3. **Testing**:
   - Full feature parity testing
   - Performance benchmarking
   - Compatibility with 1.21.1 mods

### Timeline
- **Short-term**: Use compatibility mode (current)
- **Medium-term**: Full 1.21.1 builds (requires development investment)
- **Long-term**: Dual maintenance of both versions

## Configuration Recommendations

### For 1.21.1 Compatibility Mode
```json
{
  "effect_warnings": false,  // May not work fully
  "addGuiText": true,        // Basic GUI works
  "food_modifications": true // Core functionality works
}
```

### Recommended Settings
- Keep most defaults for compatibility
- Disable advanced features that may not work
- Test incrementally to find what works

## Troubleshooting

### Common Issues
1. **Mod Won't Load**: Ensure using 1.20.1 JARs on 1.21.1
2. **Features Not Working**: Check logs for "compatibility mode" message
3. **Config Not Applied**: Some advanced options ignored in compatibility mode

### Log Messages to Check
```
[Hunger Overhaul Reborn] Running on Minecraft 1.21.1
[Hunger Overhaul Reborn] 1.21.1 compatibility mode enabled
[Hunger Overhaul Reborn] Core modules initialized
```

### Getting Help
- Check the logs for version detection messages
- Verify you're using the 1.20.1 JARs
- Report issues with "1.21.1 compatibility" in the title

## Migration Path

### For Players
- Use 1.20.1 JARs on 1.21.1 for now
- Core food mechanics work normally
- Wait for full 1.21.1 builds or stick with 1.20.1

### For Developers
- Uncomment 1.21.1 builds in `settings.gradle.kts`
- Create version-specific overrides in `1.21.1/` directories
- Update API calls and mixin targets
- Extensive testing required

## Summary

**Current State**: Basic compatibility achieved ‚úÖ
**Full Features**: Requires future development work üîÑ
**User Impact**: Core functionality works, advanced features disabled ‚ö†Ô∏è

The mod provides a solid foundation for 1.21.1 players while maintaining full feature support for 1.20.1. Full 1.21.1 support can be added when the development investment is made.
